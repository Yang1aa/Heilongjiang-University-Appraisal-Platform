(function(){"use strict";var t={9154:function(t,e,a){var s=a(6369),i=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("router-view"),e("nav",[e("router-link",{class:{underline:"/HomePage"===t.$route.path},attrs:{to:"/HomePage"}},[e("h3",[e("i",{staticClass:"el-icon-s-home"}),t._v("  首页")])]),e("div",{staticClass:"dropdown",class:{underline:"/ImageIdentify"===t.$route.path||"/ImageAttack"===t.$route.path},on:{mouseover:function(e){t.showDropdown=!0},mouseleave:function(e){t.showDropdown=!1}}},[t._m(1),t.showDropdown?e("div",{staticClass:"dropdown-content"},[e("div",{staticClass:"triangle-up"}),e("a",{on:{click:function(e){return t.goToImageUploader("ImageIdentify")}}},[t._v("图片鉴定")]),e("a",{on:{click:function(e){return t.goToImageUploader("ImageAttack")}}},[t._v("图片攻击")])]):t._e()]),e("router-link",{class:{underline:"/VideoUploader"===t.$route.path},attrs:{to:"/VideoUploader"}},[e("h3",[e("i",{staticClass:"el-icon-video-camera-solid"}),t._v(" 视频类别")])]),e("router-link",{class:{underline:"/TextUploader"===t.$route.path},attrs:{to:"/TextUploader"}},[e("h3",[e("i",{staticClass:"el-icon-s-order"}),t._v(" 文本类别")])])],1),t._m(2)],1)},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sticky-header"},[e("div",{staticClass:"logo"},[e("h1",{staticClass:"animated-text"},[t._v("黑龙江大学检测系统")])])])},function(){var t=this,e=t._self._c;return e("a",[e("h3",[e("i",{staticClass:"el-icon-picture"}),t._v("  图片类别 "),e("i",{staticClass:"el-icon-caret-bottom"})])])},function(){var t=this,e=t._self._c;return e("footer",[e("div",{staticClass:"footer-content"},[e("p",[t._v(" © 2023 Heilongjiang University. All rights reserved. Designed and produced by Yangliuan. ")])])])}],n=(a(7658),{created(){"/HomePage"!==this.$route.path&&this.$router.replace("/HomePage")},data(){return{activeName:"HomePage",showDropdown:!1}},methods:{goToImageUploader(t){this.showDropdown=!1,this.$router.push({path:`/${t}`})}}}),o=n,r=a(3736),c=(0,r.Z)(o,i,l,!1,null,null,null),d=c.exports,u=a(2631),m=function(){var t=this;t._self._c;return t._m(0)},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"huge-text"},[e("h1",{staticClass:"animated-huge-text"},[t._v(" 黑"),e("span",[t._v("龙")]),t._v("江"),e("span",[t._v("大")]),t._v("学"),e("span",[t._v("检")]),t._v("测"),e("span",[t._v("系")]),t._v("统 ")])])}],g={data(){return{}},methods:{}},p=g,v=(0,r.Z)(p,m,h,!1,null,null,null),f=v.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"imageuploader-container"},[t._m(0),e("div",{staticClass:"image-container"},[e("el-upload",{ref:"upload",staticClass:"file-box",attrs:{multiple:"",limit:3,action:"http://116.63.8.192:8088","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-change":t.handleChange,"on-exceed":t.handleExceed,"file-list":t.images,"list-type":"picture","auto-upload":!1}},[e("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取图片")]),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitFile}},[t._v("上传图片")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传jpg/png文件，且不超过500kb ")])],1),e("div",{staticClass:"slecet"},[e("div",{staticClass:"data-select"},[e("h2",[t._v("模型选择")]),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.scanImage}},[t._v("鉴定检测")])],1),e("div",{staticClass:"image-show"},[e("div",{staticClass:"data-show"},[e("h2",[t._v("鉴定前图片")]),e("el-card",{ref:"imageShow",staticClass:"box-card",staticStyle:{position:"relative"}},[t.uploadedImageUrl?e("img",{key:t.uploadedImageUrl,staticClass:"setimg",attrs:{src:t.uploadedImageUrl,alt:"Uploaded Image"}}):e("img",{staticClass:"setimg",staticStyle:{width:"200px"},attrs:{src:t.defaultImageUrl,alt:"Default Image"}})])],1),e("div",{staticClass:"data-show"},[e("h2",[t._v("鉴定后图片")]),e("el-card",{ref:"imageShow",staticClass:"box-card",staticStyle:{position:"relative"}},[t.isScanning?e("div",{staticClass:"loading"}):t._e(),e("div",{staticClass:"stamp-container"},[t.uploadedImageUrl?e("img",{key:t.uploadedImageUrl,staticClass:"setimg",attrs:{src:t.uploadedImageUrl,alt:"Processed Image"}}):e("img",{staticClass:"setimg",staticStyle:{width:"200px"},attrs:{src:t.defaultImageUrl,alt:"Default Image"}}),t.scanningResult?e("div",{staticClass:"stamp"},[t._v(t._s(t.scanningResult))]):t._e()])])],1)])],1)])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"test-image-container"},[e("div",{staticClass:"slecet"},[e("h1",[t._v("鉴定图前后示例")])]),e("div",{staticClass:"test-image-show"},[e("div",{staticClass:"test-data-show"},[e("h2",[t._v("鉴定前图片示例图")]),e("img",{staticStyle:{"max-width":"50% !important","min-width":"50% !important","max-height":"50% !important","min-height":"50% !important"},attrs:{src:a(3621),alt:""}})]),e("div",{staticClass:"test-data-show"},[e("h2",[t._v("鉴定后图片示例图")]),e("div",{staticClass:"stamp-container"},[e("img",{staticStyle:{"max-width":"50% !important","min-width":"50% !important","max-height":"50% !important","min-height":"50% !important"},attrs:{src:a(3621),alt:""}}),e("div",{staticClass:"stamp"},[t._v("REAL!")])])]),e("div",{staticClass:"test-data-show"},[e("h2",[t._v("鉴定前图片示例图")]),e("img",{staticStyle:{"max-width":"50% !important","min-width":"50% !important","max-height":"50% !important","min-height":"50% !important"},attrs:{src:a(1395),alt:""}})]),e("div",{staticClass:"test-data-show"},[e("h2",[t._v("鉴定后图片示例图")]),e("div",{staticClass:"stamp-container"},[e("img",{staticStyle:{"max-width":"50% !important","min-width":"50% !important","max-height":"50% !important","min-height":"50% !important"},attrs:{src:a(1395),alt:""}}),e("div",{staticClass:"stamp"},[t._v("FAKE!")])])])])])}],C={data(){return{images:[],imageurls:[],options:[],value:"",postUploadImageUrl:null,uploadedImageUrl:null,defaultImageUrl:"/none.png",isScanning:!1,scanningResult:null,fileName:null}},mounted(){this.fetchOptions()},methods:{fetchOptions(){this.$axios.get("http://116.63.15.173:8088/api/files/hierarchy").then((t=>{const e=t.data.identify,a=Object.keys(e).map((t=>({value:t,label:t})));this.options=a,this.value=a[0].value})).catch((t=>{console.error("Error fetching options:",t),this.$message.error("获取选项失败")}))},submitFile(){if(0===this.images.length)return void this.$message.warning("请选择文件");let t=new FormData;t.append("image",this.images[0].raw),this.$axios.post("http://116.63.15.173:8088/uploadImage",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{t.data&&t.data.url?(this.uploadedImageUrl=t.data.url,this.fileName=t.data.fileName,this.scanningResult=null,this.$message.success("文件上传成功"),this.images=[]):this.$message.error("文件上传失败")})).catch((t=>{this.$message.error("文件上传失败",t.message)}))},handleRemove(t,e){this.images=e,console.log("移除文件列表时的钩子",t)},handlePreview(t){console.log("点击某个文件时的钩子",t)},handleChange(t,e){this.images=e,console.log("添加到上传列表时的钩子",t)},handleExceed(){this.$message.warning("文件超出3个"),console.log("文件超出个数限制时的钩子")},getImages(){this.$axios.get("/filelist").then((t=>{this.imageurls=t.data,console.log("获取图片列表成功")})).catch((t=>{this.$message.error("获取图片列表失败")}))},async scanImage(){if(this.uploadedImageUrl){this.isScanning=!0;try{await this.$axios.post("http://116.63.15.173:8088/mode",new URLSearchParams({mode:this.value.toLocaleLowerCase(),fileName:this.fileName}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});const t=await this.$axios.get("http://116.63.15.173:8088/get-Xception-json"),e=t.data;this.postUploadImageUrl=e.img_name,this.scanningResult="real"===e.val?"REAL!":"FAKE!"}catch(t){console.error("Error fetching data:",t),this.$message.error("获取数据失败")}finally{this.isScanning=!1}}else this.$message({message:"请先上传图片再进行鉴定检测",type:"warning"})}}},y=C,x=(0,r.Z)(y,_,w,!1,null,"23b188a4",null),b=x.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"imageuploader-container"},[t._m(0),e("div",{staticClass:"image-container"},[e("el-upload",{ref:"upload",staticClass:"file-box",attrs:{multiple:"",limit:3,action:"http://116.63.8.192:8088","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-change":t.handleChange,"on-exceed":t.handleExceed,"file-list":t.images,"list-type":"picture","auto-upload":!1}},[e("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取图片")]),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitFile}},[t._v("上传图片")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传jpg/png文件，且不超过500kb ")])],1),e("div",{staticClass:"slecet"},[e("div",{staticClass:"data-select"},[e("h2",[t._v("模型选择")]),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.scanImage}},[t._v("鉴定检测")])],1),e("div",{staticClass:"image-show"},[e("div",{staticClass:"data-show"},[e("h2",[t._v("攻击前图片")]),e("el-card",{ref:"imageShow",staticClass:"box-card",staticStyle:{position:"relative"}},[t.isScanning?e("div",{staticClass:"loading"}):t._e(),t.uploadedImageUrl?e("img",{key:t.uploadedImageUrl,staticClass:"setimg",attrs:{src:t.uploadedImageUrl,alt:"Uploaded Image"}}):e("img",{staticClass:"setimg",staticStyle:{width:"200px"},attrs:{src:t.defaultImageUrl,alt:"Default Image"}})]),e("el-card",{staticClass:"box-card"},[e("h3",[t._v(" ")]),e("h3",[t._v(" ")]),e("h3",[t._v(" ")])])],1),e("div",{staticClass:"data-show"},[e("h2",[t._v("攻击后图片")]),e("el-card",{staticClass:"box-card"},[t.postUploadImageUrl?e("img",{key:t.postUploadImageUrl,staticClass:"setimg",attrs:{src:t.postUploadImageUrl,alt:"Uploaded Image"}}):e("img",{staticClass:"setimg",attrs:{src:t.defaultImageUrl,alt:"Default Image"}})]),e("el-card",{staticClass:"box-card"},[e("h3",[t._v(t._s(t.classification))]),e("h3",[t._v(" ")]),e("h3",[t._v(t._s(t.prcesion))])])],1)])],1)])},U=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"test-image-container"},[e("div",{staticClass:"slecet"},[e("h1",[t._v("攻击图前后示例")])]),e("div",{staticClass:"test-image-show"},[e("div",{staticClass:"test-data-show"},[e("h2",[t._v("攻击前图片示例图")]),e("img",{attrs:{src:a(5906),alt:""}})]),e("div",{staticClass:"test-data-show"},[e("h2",[t._v("噪声图")]),e("img",{attrs:{src:a(4305),alt:""}})]),e("div",{staticClass:"test-data-show"},[e("h2",[t._v("攻击后图片示例图")]),e("img",{attrs:{src:a(4724),alt:""}})])])])}],$={data(){return{images:[],imageurls:[],classification:"NULL",prcesion:"NULL",options:[{value:"选项1",label:"mode1"},{value:"选项2",label:"mode2"},{value:"选项3",label:"mode3"},{value:"选项4",label:"mode4"},{value:"选项5",label:"mode5"}],value:"选项1",postUploadImageUrl:null,uploadedImageUrl:null,defaultImageUrl:"/none.png",isScanning:!1}},methods:{submitFile(){if(0===this.images.length)return void this.$message.warning("请选择文件");let t=new FormData;t.append("image",this.images[0].raw),this.$axios.post("/uploadImage",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{t.data&&t.data.url?(this.uploadedImageUrl=t.data.url,this.$message.success("文件上传成功"),this.images=[]):this.$message.error("文件上传失败")})).catch((t=>{this.$message.error("文件上传失败",t.message)}))},handleRemove(t,e){this.images=e,console.log("移除文件列表时的钩子",t)},handlePreview(t){console.log("点击某个文件时的钩子",t)},handleChange(t,e){this.images=e,console.log("添加到上传列表时的钩子",t)},handleExceed(){this.$message.warning("文件超出3个"),console.log("文件超出个数限制时的钩子")},getImages(){this.$axios.get("/filelist").then((t=>{this.imageurls=t.data,console.log("获取图片列表成功")})).catch((t=>{this.$message.error("获取图片列表失败")}))},async scanImage(){if(this.uploadedImageUrl){this.isScanning=!0;try{const t=await this.$axios.get("/get-json"),e=t.data,[a,s]=e.classify[0],i=(100*s).toFixed(2);this.classification=`classification: ${a}`,this.prcesion=`precision: ${i}%`;const l=await this.$axios.get("/image",{responseType:"blob"}),n=l.data,o=new FileReader;o.readAsDataURL(n),o.onloadend=()=>{const t=o.result;this.postUploadImageUrl=t}}catch(t){console.error("Error fetching data:",t),this.$message.error("获取数据失败")}finally{this.isScanning=!1}}else this.$message({message:"请先上传图片再进行鉴定检测",type:"warning"})}}},k=$,S=(0,r.Z)(k,I,U,!1,null,"3a587894",null),P=S.exports,O=function(){var t=this;t._self._c;return t._m(0)},j=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("视频上传功能暂未开发")])])}],R={data(){return{}},methods:{}},T=R,D=(0,r.Z)(T,O,j,!1,null,null,null),E=D.exports,Z=function(){var t=this;t._self._c;return t._m(0)},F=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("文本上传功能暂未开发")])])}],L={data(){return{}},methods:{}},A=L,H=(0,r.Z)(A,Z,F,!1,null,null,null),N=H.exports;s["default"].use(u.ZP);const z=[{path:"/",redirect:"/HomePage"},{path:"/HomePage",component:f},{path:"/ImageIdentify",component:b},{path:"/ImageAttack",component:P},{path:"/TextUploader",component:N},{path:"/VideoUploader",component:E}],M=new u.ZP({routes:z});var V=M,K=a(3822);s["default"].use(K.ZP);var X=new K.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),Y=a(8499),q=a.n(Y),B=a(4161);s["default"].config.productionTip=!1,s["default"].prototype.$axios=B.Z,B.Z.defaults.baseURL="http://116.63.15.173:8088",s["default"].use(q()),new s["default"]({router:V,store:X,render:t=>t(d)}).$mount("#app")},4724:function(t,e,a){t.exports=a.p+"img/afterattacked.670ceb50.png"},5906:function(t,e,a){t.exports=a.p+"img/beforeattacked.6446dfc0.png"},1395:function(t,e,a){t.exports=a.p+"img/fake.9467c860.jpg"},4305:function(t,e,a){t.exports=a.p+"img/noise.daa6b481.png"},3621:function(t,e,a){t.exports=a.p+"img/real.370859d8.jpg"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var l=e[s]={id:s,loaded:!1,exports:{}};return t[s](l,l.exports,a),l.loaded=!0,l.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,l){if(!s){var n=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],l=t[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&l||n>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(o=!1,l<n&&(n=l));if(o){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,i,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,l,n=s[0],o=s[1],r=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(r)var d=r(a)}for(e&&e(s);c<n.length;c++)l=n[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},s=self["webpackChunkimageupload_vue"]=self["webpackChunkimageupload_vue"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9154)}));s=a.O(s)})();
//# sourceMappingURL=app.6494e4be.js.map